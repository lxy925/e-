{"version":3,"sources":["uni-app:///main.js","webpack:///D:/陪诊小程序/e-/pages/mine/mine.vue?2a9f","webpack:///D:/陪诊小程序/e-/pages/mine/mine.vue?2aa8","webpack:///D:/陪诊小程序/e-/pages/mine/mine.vue?38d1","webpack:///D:/陪诊小程序/e-/pages/mine/mine.vue?80fd","uni-app:///pages/mine/mine.vue","webpack:///D:/陪诊小程序/e-/pages/mine/mine.vue?2dab","webpack:///D:/陪诊小程序/e-/pages/mine/mine.vue?1fee"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isLoggedIn","userInfo","session_key","avatar","nickName","is_certified","user_id","phone","idNumber","type","moreInfo","onLoad","onShow","methods","initUserInfo","console","getUser","uni","title","uniCloud","name","result","icon","login","provider","success","url","method","appid","secret","js_code","grant_type","logout","duration","checkSession","fail","content","handleHeaderClick","doctorRegister","onSwitchChange","is_bookable"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AAC6L;AAC7L,gBAAgB,uMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,0PAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAmuB,CAAgB,gvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC8IvvB;EACAC;IACA;MACAC;MAAA;;MAEAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACAC;MAEA;QACA;QACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAD;gBAAA;gBAGAE;kBACAC;gBACA;gBAAA;gBAAA,OAGAC;kBACAC;kBACArB;gBACA;cAAA;gBAAA;gBAJAsB;gBAMA;kBACAN;kBACA;kBACAA;kBACAE;gBACA;kBACAA;oBACAC;oBACAI;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAL;kBACAC;kBACAI;gBACA;cAAA;gBAAA;gBAEAL;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAM;MAAA;MACAN;QACAO;QACAC;UACAV;UACA;UACAE;YACAS;YAAA;YACAC;YACA5B;cACA6B;cAAA;cACAC;cAAA;cACAC;cAAA;cACAC;YACA;;YACAN;cACAV;cACA;cACA;cACA;cACAA;cACA;cAEA;cACAE;YACA;UAEA;QACA;MACA;IAEA;IAEA;IACAe;MACAf;MACAA;MACA;QACAf;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAK;MACA;MACAE;QACAC;QACAI;QACAW;MACA;IACA;IAEA;IACAC;MAAA;MACAxC;QACA+B;UACAV;QACA;QACAoB;UACApB;UACArB;YACAwB;YACAkB;YACAX;cACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAY;MACA;QACAtB;QACA;MACA;QACAA;QACA;MACA;QACAA;QACAE;UACAS;QACA;MACA;IACA;IAEAY;MACA;QACAvB;QACAE;UACAS;QACA;MACA;QACAX;QACA;QACAE;UACAS;QACA;MACA;QACAX;;QAEA;QACA;QACA;QACAE;UACAS;QACA;MACA;IACA;IACA;IACAa;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAxB;gBAAA;gBAAA;gBAAA,OAIAI;kBACAC;kBACArB;oBACAO;oBACAkC;kBACA;gBACA;cAAA;gBAAA;gBAPAnB;gBASA;kBACAJ;oBACAC;oBACAI;kBACA;kBAEA;kBACAP;gBACA;kBACAE;oBACAC;oBACAI;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAL;kBACAC;kBACAI;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACnXA;AAAA;AAAA;AAAA;AAA0iC,CAAgB,yhCAAG,EAAC,C;;;;;;;;;;;ACA9jC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/mine/mine.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/mine/mine.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mine.vue?vue&type=template&id=dcbcfe34&\"\nvar renderjs\nimport script from \"./mine.vue?vue&type=script&lang=js&\"\nexport * from \"./mine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mine.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=template&id=dcbcfe34&\"","var components\ntry {\n  components = {\n    customNav: function () {\n      return import(\n        /* webpackChunkName: \"components/custom-nav/custom-nav\" */ \"@/components/custom-nav/custom-nav.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<custom-nav title=\"e陪无忧\" :isHomePage=\"true\"></custom-nav>\r\n\t\t<view class=\"header\" @click=\"handleHeaderClick\">\r\n\t\t\t\r\n\t\t\t<img :src=\"userInfo.moreInfo.avatarUrl || '../../static/images/mine/avatar.png'\" v-if=\"userInfo.type=='陪诊师'\" alt=\"\">\r\n\t\t\t<img :src=\"userInfo.avatar || '../../static/images/mine/avatar.png'\" v-else alt=\"\">\r\n\t\t\t<text class=\"username\">{{userInfo.nickName || '登录'}}</text>\r\n\t\t\t<text class=\"user-info\" v-if=\"userInfo.type=='陪诊师'\">\r\n\t\t\t\t{{ userInfo.moreInfo.is_certified ? '已认证' : '未认证' }}</text>\r\n\t\t\t<view class=\"state-box\" v-if=\"userInfo.type=='陪诊师'\">\r\n\r\n\r\n\t\t\t\t<text class=\"state\">接单状态:</text>\r\n\t\t\t\t<switch class=\"switch\" :checked=\"userInfo.moreInfo.is_bookable\" @change=\"onSwitchChange\"\r\n\t\t\t\t\tcolor=\"#ff94da\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"down\" v-if=\"userInfo.type=='陪诊师'\">\r\n\t\t\t<view class=\"box\">\r\n\t\t\t\t<text class=\"header-num\">1</text>\r\n\t\t\t\t<text class=\"header-title\">总收益(元)</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box\">\r\n\t\t\t\t<text class=\"header-num\">1</text>\r\n\t\t\t\t<text class=\"header-title\">总销量</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box\">\r\n\t\t\t\t<text class=\"header-num\">1</text>\r\n\t\t\t\t<text class=\"header-title\">用户评分</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"info-box\" v-else>\r\n\r\n\t\t\t<view class=\"money\">\r\n\t\t\t\t<text class=\"money-num\"> 1</text>\r\n\t\t\t\t<view class=\"money-box\">\r\n\t\t\t\t\t<image src=\"../../static/images/index/money (2).png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"money-title\"> 当前余额(元)</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"benefit\">\r\n\t\t\t\t<text class=\"benefit-num\"> 0</text>\r\n\t\t\t\t<view class=\"benefit-box\">\r\n\t\t\t\t\t<image src=\"../../static/images/index/card.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"benefit-title\">优惠券</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"order-box\">\r\n\t\t\t<text class=\"order-title\">{{ userInfo.type=='陪诊师' ? '订单数据' : '基本功能' }}</text>\r\n\t\t\t<view class=\"all-box\" v-if=\"userInfo.type=='陪诊师'\">\r\n\t\t\t\t<view class=\"data-box\">\r\n\t\t\t\t\t<text class=\"num\">1</text>\r\n\t\t\t\t\t<text class=\"title\">订单收入(元)</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-box\">\r\n\t\t\t\t\t<text class=\"num\">1</text>\r\n\t\t\t\t\t<text class=\"title\">总订单数</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"order-item\" v-else>\r\n\r\n\t\t\t\t<view class=\"box\" style=\"margin-left: 0;\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/pay.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">待付款</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/ordering.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">进行中</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/finish.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">已完成</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/cancel.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">已取消</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"order-box\">\r\n\t\t\t<text class=\"order-title\"> {{ userInfo.type=='陪诊师' ? '订单管理' : '我的工具' }}</text>\r\n\t\t\t<view class=\"order-item\" v-if=\"userInfo.type=='陪诊师'\">\r\n\r\n\t\t\t\t<view class=\"boxed\" @click=\"doctorRegister\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/patient.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">个人信息管理</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"boxed\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/advice.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">查看用户评价</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"boxed\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/setting.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">设置中心</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"boxed\">\r\n\t\t\t<image src=\"../../static/images/mine/location.png\" alt=\"\"></image>\r\n\t\t\t<text class=\"box-title\">地址设置</text>\r\n\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"order-item\" v-else>\r\n\t\t\t\t<view class=\"box\" id=\"box1\" style=\"margin-left: 0;\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/location.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">地址管理</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/patient.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">就诊人管理</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"box\">\r\n          <image src=\"../../static/images/mine/doctor.png\" alt=\"\"></image>\r\n          <text class=\"box-title\">我的陪诊师</text>\r\n        </view> -->\r\n\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/advice.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">投诉建议</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box\" style=\"margin-left: 0;\" @click=\"doctorRegister\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/help.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">陪诊师入驻</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t<image src=\"../../static/images/mine/setting.png\" alt=\"\"></image>\r\n\t\t\t\t\t<text class=\"box-title\">设置中心</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"logout-box\">\r\n\t\t\t<image src=\"../../static/images/mine/logout.png\" alt=\"\"></image>\r\n\t\t\t<button class=\"logout\" @click=\"logout\" v-if=\"userInfo.user_id\">退出登录</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n\r\n\r\n\r\n// pages/mine/mine.js\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLoggedIn: false, // 是否登录过\r\n\t\t\t\t\r\n\t\t\t\tuserInfo: {\r\n\t\t\t\t\tsession_key: '',\r\n\t\t\t\t\tavatar: '',\r\n\t\t\t\t\tnickName: '',\r\n\t\t\t\t\tis_certified: '',\r\n\t\t\t\t\tuser_id: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tidNumber: '',\r\n\t\t\t\t\ttype: '',\r\n\t\t\t\t\tmoreInfo: {},\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.initUserInfo();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.initUserInfo();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化用户信息\r\n\t\t\tinitUserInfo() {\r\n\t\t\t\tconst userInfo = uni.getStorageSync('userInfo');\r\n\t\t\t\tthis.userInfo.type=uni.getStorageSync('type');\r\n\t\t\t\tconsole.log(\"返回后的值：\",userInfo)\r\n\t\t\t\t\r\n\t\t\t\tif (userInfo) {\r\n\t\t\t\t\tthis.userInfo = userInfo;\r\n\t\t\t\t\tthis.isLoggedIn = true;\r\n\t\t\t\t\tthis.checkSession(); // 检查 session_key 是否过期\r\n\t\t\t\t\tthis.getUser()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 获取用户信息\r\n\t\t\tasync getUser() {\r\n\t\t\t\tconsole.log(\"调取前检查\",this.userInfo)\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t} = await uniCloud.callFunction({\r\n\t\t\t\t\t\tname: 'getUser',\r\n\t\t\t\t\t\tdata: this.userInfo,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (result.code != 0) {\r\n\t\t\t\t\t\tconsole.log(\"调取后\",result)\r\n\t\t\t\t\t\tthis.userInfo = result.data[0];\r\n\t\t\t\t\t\tconsole.log(\"调取后检查\",this.userInfo)\r\n\t\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: result.msg || '获取用户数据失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取用户数据失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 登录方法\r\n\t\t\t login() {\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\tthis.js_code = res.code\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl: 'https://api.weixin.qq.com/sns/jscode2session', // 请求微信服务器\r\n\t\t\t\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tappid: 'wxf8afb6dce14d487a', //你的小程序的APPID\r\n\t\t\t\t\t\t\t\t\t\tsecret: 'f00ab7cf65338de89b24cb5a52c640a4', //你的小程序秘钥secret,  \r\n\t\t\t\t\t\t\t\t\t\tjs_code: this.js_code, //uni.login 登录成功后的code\r\n\t\t\t\t\t\t\t\t\t\tgrant_type: 'authorization_code' //此处为固定值\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('获取信息', res.data);\r\n\t\t\t\t\t\t\t\t\t\tthis.userInfo.user_id = res.data.openid\r\n\t\t\t\t\t\t\t\t\t\tthis.userInfo.session_key = res.data.session_key\r\n\t\t\t\t\t\t\t\t\t\t // 获取用户信息\r\n\t\t\t\t\t\t\t\t\t\t console.log(\"获取后检查\",this.userInfo)\r\n\t\t\t\t\t\t\t\t\t\t  this.getUser()\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tthis.isLoggedIn = true;\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('isLoggedIn', true);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t});\r\n}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t// 退出登录\r\n\t\t\t\t\t\t\tlogout() {\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync('userInfo');\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync('isLoggedIn');\r\n\t\t\t\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t\t\t\tsession_key: '',\r\n\t\t\t\t\t\t\t\t\tavatar: '',\r\n\t\t\t\t\t\t\t\t\tnickName: '',\r\n\t\t\t\t\t\t\t\t\tis_certified: '',\r\n\t\t\t\t\t\t\t\t\tuser_id: '',\r\n\t\t\t\t\t\t\t\t\tphone: '',\r\n\t\t\t\t\t\t\t\t\tidNumber: '',\r\n\t\t\t\t\t\t\t\t\ttype: '',\r\n\t\t\t\t\t\t\t\t\tmoreInfo: {},\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tconsole.log(\"头像？\",this.userInfo.moreInfo.avatarUrl)\r\n\t\t\t\t\t\t\t\tthis.isLoggedIn = true;\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '退出登录成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t// 检查 session_key 是否过期\r\n\t\t\t\t\t\t\tcheckSession() {\r\n\t\t\t\t\t\t\t\twx.checkSession({\r\n\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('session_key 有效');\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('session_key 已过期');\r\n\t\t\t\t\t\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: '登录状态已过期，请重新登录',\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.login(); // 重新登录\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t// 处理头部点击事件\r\n\t\t\t\t\t\t\thandleHeaderClick() {\r\n\t\t\t\t\t\t\t\tif (this.userInfo.user_id) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('已登录');\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t} else if (this.isLoggedIn) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('重新登录');\r\n\t\t\t\t\t\t\t\t\tthis.login();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log('首次登录');\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl:'/pages/userInfoDetail/userInfoDetail'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\r\ndoctorRegister(){\r\n\tif (this.userInfo.user_id) {\r\n\t\tconsole.log('已登录');\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/escortRegistration/escortRegistration'\r\n\t\t})\r\n\t} else if (this.isLoggedIn) {\r\n\t\tconsole.log('重新登录');\r\n\t\tthis.login();\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/escortRegistration/escortRegistration'\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.log('首次登录');\r\n\t\t\r\n\t\t// uni.navigateTo({\r\n\t\t// \turl:'/pages/userInfoDetail/userInfoDetail'\r\n\t\t// })\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/escortRegistration/escortRegistration'\r\n\t\t})\r\n\t}\r\n},\r\n\t\t\t\t\t\t\t// 切换陪诊状态\r\n\t\t\t\t\t\t\tasync onSwitchChange() {\r\n\t\t\t\t\t\t\t\tconsole.log(\"改变之前的值\",this.userInfo.moreInfo.is_bookable)\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t\t\t\t} = await uniCloud.callFunction({\r\n\t\t\t\t\t\t\t\t\t\tname: 'updateEscort',\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\tuser_id: this.userInfo.user_id,\r\n\t\t\t\t\t\t\t\t\t\t\tis_bookable: !this.userInfo.moreInfo.is_bookable,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tif (result.code === 200) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '修改成功',\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tthis.getUser()\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"改变之后的值\",this.userInfo.moreInfo.is_bookable)\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: result.message || '修改失败',\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '修改失败',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n</script>\r\n\r\n<style>\r\n\t/* pages/mine/mine.wxss */\r\n\t.page {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground: linear-gradient(to bottom,\r\n\t\t\t\t#0bd6c8,\r\n\t\t\t\t#99efe9,\r\n\t\t\t\t#ddf5f4,\r\n\t\t\t\trgb(226, 226, 226));\r\n\t\tpadding-top: 50rpx;\r\n\t\tmargin-top: -1px;\r\n\t\t/* 消除可能的间隙 */\r\n\t\tpadding-top: 150rpx;\r\n\t}\r\n\r\n\t.header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.header img {\r\n\t\twidth: 180rpx;\r\n\t\theight: 180rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-left: 50rpx;\r\n\t\tmargin-top: 50rpx;\r\n\t}\r\n\r\n\t.user {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: baseline;\r\n\t}\r\n\r\n\t.username {\r\n\t\tfont-size: 25px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-left: 50rpx;\r\n\t\tmargin-top: 10rpx;\r\n\r\n\t}\r\n\r\n\t.user-info {\r\n\t\tfont-size: 13px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-left: 30rpx;\r\n\t\tmargin-top: 10rpx;\r\n\t\tbackground-color: #a5d63f;\r\n\t\tpadding: 10rpx;\r\n\t\theight: auto;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\r\n\t.state-box {\r\n\t\tmargin-top: 150rpx;\r\n\t\tmargin-left: -180rpx;\r\n\t\tfont-size: 15px;\r\n\t\tfont-weight: bold;\r\n\r\n\t}\r\n\r\n\t.state {\r\n\t\tmargin-right: 15rpx;\r\n\t}\r\n\r\n\r\n\t.down {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 40rpx;\r\n\t\tjustify-content: space-evenly;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 15rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tmargin-left: 50rpx;\r\n\t\tmargin-right: 50rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.box {\r\n\t\tborder-radius: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\twidth: 200rpx;\r\n\t}\r\n\r\n\t.header-num {\r\n\t\tfont-size: 25px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-top: 20rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.header-title {\r\n\t\tfont-size: 13px;\r\n\t\tfont-weight: bold;\r\n\t\t/* color: #fff; */\r\n\t\tmargin-top: 0;\r\n\t}\r\n\r\n\t.info-box {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 40rpx;\r\n\t\tjustify-content: space-evenly;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 15rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tmargin-left: 50rpx;\r\n\t\tmargin-right: 50rpx;\r\n\t\tcolor: #333;\r\n\t\t/* width: 100%; */\r\n\t}\r\n\r\n\t.money {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.money-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-right: 20rpx;\r\n\t\tmargin-top: 70rpx;\r\n\t}\r\n\r\n\t.benefit {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.benefit-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-right: 40rpx;\r\n\t\tmargin-top: 70rpx;\r\n\t}\r\n\r\n\t.money-num {\r\n\t\tfont-size: 25px;\r\n\t\tfont-weight: bold;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n\r\n\t.benefit-num {\r\n\t\tfont-size: 25px;\r\n\t\tfont-weight: bold;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n\r\n\t.money-title {\r\n\t\tfont-size: 13px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.benefit-title {\r\n\t\tfont-size: 13px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.money image {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t}\r\n\r\n\t.benefit image {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t}\r\n\r\n\t.all-box {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 30rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground-color: #ddf5f4;\r\n\t\tpadding: 30rpx;\r\n\t\tjustify-content: center;\r\n\t\theight: 120rpx;\r\n\r\n\t}\r\n\r\n\t.data-box {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\t/* margin-left: 50rpx;\r\n\t\tmargin-right: 50rpx;\r\n\t\tmargin-top: 20rpx; */\r\n\t\tmargin-top: 20rpx;\r\n\t\twidth: 250rpx;\r\n\t\tgap: 10rpx;\r\n\t}\r\n\r\n\t.first {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.num {\r\n\t\tfont-size: 35rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.order-box {\r\n\t\tmargin-top: 40rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 15rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tmargin-left: 50rpx;\r\n\t\tmargin-right: 50rpx;\r\n\t}\r\n\r\n\t.order-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-left: 20rpx;\r\n\t}\r\n\r\n\t.order-item {\r\n\t\tmargin-top: 20rpx;\r\n\t\tdisplay: flex;\r\n\r\n\t\tflex-wrap: wrap;\r\n\t\t/* justify-content: space-a; */\r\n\t}\r\n\r\n\t.boxed {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 30%;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tmargin-left: 15rpx;\r\n\t}\r\n\r\n\t.boxed image {\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.box-title {\r\n\t\tfont-size: 13px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.box {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 25%;\r\n\t\tmargin-bottom: 20rpx;\r\n\r\n\t}\r\n\r\n\t.box image {\r\n\t\twidth: 75rpx;\r\n\t\theight: 75rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.box-title {\r\n\t\tfont-size: 13px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.logout-box {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\r\n\t.logout-box image {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tposition: absolute;\r\n\t\t/* 使用绝对定位 */\r\n\t\tleft: calc(50% - 120rpx);\r\n\t\t/* 调整图标位置 */\r\n\t\tz-index: 1;\r\n\r\n\t}\r\n\r\n\t.logout-box button {\r\n\t\twidth: 400rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #54c69a;\r\n\t\tcolor: #fff;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding-left: 50rpx;\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1741506095341\n      var cssReload = require(\"D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}