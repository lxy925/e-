<view class="more-container data-v-5796f226"><view class="header data-v-5796f226"><view class="search-box data-v-5796f226"><view data-event-opts="{{[['tap',[['showFilter',['$event']]]]]}}" class="filter-btn data-v-5796f226" bindtap="__e"><text class="filter-text data-v-5796f226">筛选</text><text class="filter-icon data-v-5796f226">▼</text></view><input class="search-input data-v-5796f226" type="text" placeholder="{{currentType==='hospital'?'搜索医院':'搜索疾病'}}" data-event-opts="{{[['input',[['__set_model',['','searchText','$event',[]]],['onSearch',['$event']]]]]}}" value="{{searchText}}" bindinput="__e"/></view><view class="type-switch data-v-5796f226"><view data-event-opts="{{[['tap',[['switchType',['hospital']]]]]}}" class="{{['data-v-5796f226','switch-item',currentType==='hospital'?'active':'']}}" bindtap="__e">医院</view><view data-event-opts="{{[['tap',[['switchType',['disease']]]]]}}" class="{{['data-v-5796f226','switch-item',currentType==='disease'?'active':'']}}" bindtap="__e">疾病</view></view></view><block wx:if="{{showFilterPanel}}"><view data-event-opts="{{[['tap',[['hideFilter',['$event']]]]]}}" class="filter-mask data-v-5796f226" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="filter-panel data-v-5796f226" catchtap="__e"><view class="filter-header data-v-5796f226"><text class="data-v-5796f226">筛选条件</text><text data-event-opts="{{[['tap',[['hideFilter',['$event']]]]]}}" class="close-btn data-v-5796f226" bindtap="__e">×</text></view><block wx:if="{{currentType==='hospital'}}"><view class="filter-content data-v-5796f226"><view class="filter-section location-section data-v-5796f226"><view class="section-title data-v-5796f226">地理位置</view><view class="location-container data-v-5796f226"><scroll-view class="location-column data-v-5796f226" scroll-y="{{true}}"><block wx:for="{{locations.provinces}}" wx:for-item="province" wx:for-index="__i0__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectProvince',['$0'],[[['locations.provinces','',__i0__]]]]]]]}}" class="{{['data-v-5796f226','location-item',selectedProvince===province?'active':'']}}" bindtap="__e">{{''+province+''}}</view></block></scroll-view><scroll-view class="location-column data-v-5796f226" scroll-y="{{true}}"><block wx:for="{{availableCities}}" wx:for-item="city" wx:for-index="__i1__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectCity',['$0'],[[['availableCities','',__i1__]]]]]]]}}" class="{{['data-v-5796f226','location-item',selectedCity===city?'active':'']}}" bindtap="__e">{{''+city+''}}</view></block></scroll-view><scroll-view class="location-column data-v-5796f226" scroll-y="{{true}}"><block wx:for="{{availableDistricts}}" wx:for-item="district" wx:for-index="__i2__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectDistrict',['$0'],[[['availableDistricts','',__i2__]]]]]]]}}" class="{{['data-v-5796f226','location-item',selectedDistrict===district?'active':'']}}" bindtap="__e">{{''+district+''}}</view></block></scroll-view></view></view><view class="filter-section data-v-5796f226"><view class="section-title data-v-5796f226">医院等级</view><view class="filter-options data-v-5796f226"><block wx:for="{{hospitalLevels}}" wx:for-item="level" wx:for-index="__i3__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectLevel',['$0'],[[['hospitalLevels','',__i3__]]]]]]]}}" class="{{['data-v-5796f226','filter-option',selectedLevel===level?'active':'']}}" bindtap="__e">{{''+level+''}}</view></block></view></view><view class="filter-section data-v-5796f226"><view class="section-title data-v-5796f226">医院类型</view><view class="filter-options data-v-5796f226"><block wx:for="{{hospitalTypes}}" wx:for-item="type" wx:for-index="__i4__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectType',['$0'],[[['hospitalTypes','',__i4__]]]]]]]}}" class="{{['data-v-5796f226','filter-option',selectedType===type?'active':'']}}" bindtap="__e">{{''+type+''}}</view></block></view></view></view></block><block wx:else><view class="filter-content data-v-5796f226"><view class="filter-section data-v-5796f226"><view class="section-title data-v-5796f226">就医人群</view><view class="filter-options data-v-5796f226"><block wx:for="{{patientGroups}}" wx:for-item="group" wx:for-index="__i5__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectGroup',['$0'],[[['patientGroups','',__i5__]]]]]]]}}" class="{{['data-v-5796f226','filter-option',selectedGroup===group?'active':'']}}" bindtap="__e">{{''+group+''}}</view></block></view></view></view></block><view class="filter-buttons data-v-5796f226"><view data-event-opts="{{[['tap',[['resetFilter',['$event']]]]]}}" class="reset-btn data-v-5796f226" bindtap="__e">重置</view><view data-event-opts="{{[['tap',[['confirmFilter',['$event']]]]]}}" class="confirm-btn data-v-5796f226" bindtap="__e">确定</view></view></view></view></block><block wx:if="{{currentType==='hospital'}}"><view class="hospital-content data-v-5796f226"><view class="hospital-grid data-v-5796f226"><block wx:for="{{hospitals}}" wx:for-item="hospital" wx:for-index="__i6__" wx:key="id"><view data-event-opts="{{[['tap',[['goToHospitalDetail',['$0'],[[['hospitals','id',hospital.id,'id']]]]]]]}}" class="hospital-card data-v-5796f226" bindtap="__e"><image src="{{hospital.image}}" mode="aspectFill" class="data-v-5796f226"></image><view class="hospital-info data-v-5796f226"><text class="hospital-name data-v-5796f226">{{hospital.name}}</text><text class="hospital-level data-v-5796f226">{{hospital.level}}</text><text class="hospital-address data-v-5796f226">{{hospital.address}}</text></view></view></block></view></view></block><block wx:if="{{currentType==='disease'}}"><view class="disease-content data-v-5796f226"><scroll-view class="disease-categories data-v-5796f226" scroll-y="{{true}}"><block wx:for="{{diseaseCategories}}" wx:for-item="category" wx:for-index="__i7__" wx:key="id"><view data-event-opts="{{[['tap',[['selectCategory',['$0'],[[['diseaseCategories','id',category.id,'id']]]]]]]}}" class="{{['data-v-5796f226','category-item',selectedCategory===category.id?'active':'']}}" bindtap="__e">{{''+category.name+''}}</view></block></scroll-view><scroll-view class="disease-list data-v-5796f226" scroll-y="{{true}}"><block wx:for="{{diseases}}" wx:for-item="disease" wx:for-index="__i8__" wx:key="id"><block wx:if="{{disease.categoryId==selectedCategory}}"><view data-event-opts="{{[['tap',[['goToDiseaseDetail',['$0'],[[['diseases','id',disease.id,'id']]]]]]]}}" class="disease-item data-v-5796f226" bindtap="__e">{{''+disease.name+''}}</view></block></block></scroll-view></view></block></view>